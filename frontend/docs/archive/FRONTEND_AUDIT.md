# –ê—É–¥–∏—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ EatFit24 (Telegram Mini App)

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-12-06  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–ê–≤—Ç–æ—Ä:** Droid (Frontend AI Agent)

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#1-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–°–≤—è–∑—å —Å Backend API](#2-—Å–≤—è–∑—å-—Å-backend-api)
3. [UX-–ø–æ—Ç–æ–∫–∏](#3-ux-–ø–æ—Ç–æ–∫–∏)
4. [–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#4-–Ω–∞–π–¥–µ–Ω–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)
5. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É](#5-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É)
6. [–ì–∞–π–¥ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞](#6-–≥–∞–π–¥-–¥–ª—è-–≤–ª–∞–¥–µ–ª—å—Ü–∞-–ø—Ä–æ–µ–∫—Ç–∞)

---

## 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### 1.1. –û–±–∑–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| React | 19.2.0 | UI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| React Router | 7.9.6 | –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è |
| Vite | 7.2.4 | –°–±–æ—Ä—â–∏–∫ |
| TypeScript | 5.9.3 | –¢–∏–ø–∏–∑–∞—Ü–∏—è |
| TailwindCSS | 3.4.17 | –°—Ç–∏–ª–∏ |
| Lucide React | 0.554.0 | –ò–∫–æ–Ω–∫–∏ |

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ state-–º–µ–Ω–µ–¥–∂–µ—Ä–∞ (Redux/Zustand) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è React Context
- –ù–µ—Ç axios ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω—ã–π `fetch`
- Telegram WebApp –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ SDK

### 1.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

```
frontend/src/
‚îú‚îÄ‚îÄ assets/           # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —à—Ä–∏—Ñ—Ç—ã)
‚îú‚îÄ‚îÄ components/       # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Avatar.tsx
‚îÇ   ‚îú‚îÄ‚îÄ BatchResultsModal.tsx    # –ú–æ–¥–∞–ª–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ batch-–∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ Calendar.tsx             # –ö–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ClientLayout.tsx         # Layout –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx            # Dashboard —Ç—Ä–µ–Ω–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ ErrorBoundary.tsx        # –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ Layout.tsx               # Layout –¥–ª—è –ø–∞–Ω–µ–ª–∏ —Ç—Ä–µ–Ω–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ MacroChart.tsx           # –ì—Ä–∞—Ñ–∏–∫ –º–∞–∫—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ PageHeader.tsx           # –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ PlanCard.tsx             # –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–∞—Ä–∏—Ñ–Ω–æ–≥–æ –ø–ª–∞–Ω–∞
‚îú‚îÄ‚îÄ contexts/         # React Context –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.tsx          # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Telegram
‚îÇ   ‚îú‚îÄ‚îÄ BillingContext.tsx       # –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ª–∏–º–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ ClientsContext.tsx       # –ö–ª–∏–µ–Ω—Ç—ã —Ç—Ä–µ–Ω–µ—Ä–∞
‚îú‚îÄ‚îÄ hooks/            # –ö–∞—Å—Ç–æ–º–Ω—ã–µ React-—Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ useErrorHandler.tsx      # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ useProfile.ts            # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ useTaskPolling.ts        # Polling —Å—Ç–∞—Ç—É—Å–∞ AI-–∑–∞–¥–∞—á–∏
‚îÇ   ‚îî‚îÄ‚îÄ useTelegramWebApp.ts     # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Telegram WebApp
‚îú‚îÄ‚îÄ lib/              # –£—Ç–∏–ª–∏—Ç—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ telegram.ts              # –†–∞–±–æ—Ç–∞ —Å Telegram WebApp SDK
‚îú‚îÄ‚îÄ pages/            # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ApplicationsPage.tsx     # –ó–∞—è–≤–∫–∏ (–ø–∞–Ω–µ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞)
‚îÇ   ‚îú‚îÄ‚îÄ ClientDashboard.tsx      # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–ª–∏–µ–Ω—Ç–∞ (–¥–Ω–µ–≤–Ω–∏–∫)
‚îÇ   ‚îú‚îÄ‚îÄ ClientsPage.tsx          # –ö–ª–∏–µ–Ω—Ç—ã (–ø–∞–Ω–µ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞)
‚îÇ   ‚îú‚îÄ‚îÄ FoodLogPage.tsx          # –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –µ–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ InviteClientPage.tsx     # –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ MealDetailsPage.tsx      # –î–µ—Ç–∞–ª–∏ –ø—Ä–∏—ë–º–∞ –ø–∏—â–∏
‚îÇ   ‚îú‚îÄ‚îÄ PaymentHistoryPage.tsx   # –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ ProfilePage.tsx          # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ SettingsPage.tsx         # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ SubscribersPage.tsx      # –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ (–ø–∞–Ω–µ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞)
‚îÇ   ‚îú‚îÄ‚îÄ SubscriptionDetailsPage.tsx # –î–µ—Ç–∞–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ SubscriptionPage.tsx     # –í—ã–±–æ—Ä —Ç–∞—Ä–∏—Ñ–∞
‚îú‚îÄ‚îÄ services/         # API-–∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ api.ts                   # –ï–¥–∏–Ω—ã–π API-–∫–ª–∏–µ–Ω—Ç (51KB)
‚îÇ   ‚îî‚îÄ‚îÄ mockData.ts              # –ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (dev)
‚îú‚îÄ‚îÄ types/            # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ billing.ts               # –¢–∏–ø—ã –±–∏–ª–ª–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ profile.ts               # –¢–∏–ø—ã –ø—Ä–æ—Ñ–∏–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ telegram.d.ts            # –¢–∏–ø—ã Telegram WebApp
‚îú‚îÄ‚îÄ utils/            # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ App.tsx           # –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Ä–æ—É—Ç–∏–Ω–≥–æ–º
‚îú‚îÄ‚îÄ App.css           # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ main.tsx          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ index.css         # Base CSS
```

### 1.3. State Management

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **React Context** –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

| Context | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –î–∞–Ω–Ω—ã–µ |
|---------|------------|--------|
| `AuthContext` | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | `user`, `telegramUser`, `loading`, `error` |
| `BillingContext` | –ü–æ–¥–ø–∏—Å–∫–∏ | `subscription`, `billingMe`, `isPro`, `isLimitReached` |
| `ClientsContext` | –ö–ª–∏–µ–Ω—Ç—ã —Ç—Ä–µ–Ω–µ—Ä–∞ | `clients`, `applications` |

**–õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —á–µ—Ä–µ–∑ `useState`.

### 1.4. HTTP-–∫–ª–∏–µ–Ω—Ç

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–Ω–∞—Ç–∏–≤–Ω—ã–π `fetch`** —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –æ–±—ë—Ä—Ç–∫–∞–º–∏ –≤ `src/services/api.ts`:

```typescript
// –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
fetchWithTimeout()   // Fetch —Å —Ç–∞–π–º–∞—É—Ç–æ–º (150s)
fetchWithRetry()     // Retry —Å exponential backoff (3 –ø–æ–ø—ã—Ç–∫–∏)
getHeaders()         // –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram auth headers
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π API-–∫–ª–∏–µ–Ω—Ç (`api.ts` ‚Äî 51KB, ~1400 —Å—Ç—Ä–æ–∫)
- Header-based –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ `X-Telegram-Init-Data`
- JWT —Ç–æ–∫–µ–Ω—ã –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è (WebApp Header auth)
- Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è 5xx –æ—à–∏–±–æ–∫

### 1.5. Telegram WebApp Integration

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `src/lib/telegram.ts`:

```typescript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
initTelegramWebApp()        // Async init, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ App.tsx
getTelegramAuthData()       // –ü–æ–ª—É—á–∏—Ç—å {initData, user}
buildTelegramHeaders()      // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è API

// UI
applyTelegramTheme()        // CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã
closeTelegramWebApp()       // –ó–∞–∫—Ä—ã—Ç—å WebApp
openTelegramLink()          // –û—Ç–∫—Ä—ã—Ç—å —Å—Å—ã–ª–∫—É
```

**–•—É–∫ `useTelegramWebApp`** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- `isReady` ‚Äî WebApp –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- `isTelegramWebApp` ‚Äî –∑–∞–ø—É—â–µ–Ω–æ –≤–Ω—É—Ç—Ä–∏ Telegram
- `telegramUserId`, `telegramUser` ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## 2. –°–≤—è–∑—å —Å Backend API

### 2.1. –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ì—Ä—É–ø–ø–∞ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|-------|----------|
| **Auth** | `/api/v1/telegram/auth/` | POST | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram |
| **Profile** | `/api/v1/users/profile/` | GET/PATCH | –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **Goals** | `/api/v1/goals/` | GET/PUT | –¶–µ–ª–∏ –ö–ë–ñ–£ |
| **Meals** | `/api/v1/meals/` | GET/POST | –ü—Ä–∏—ë–º—ã –ø–∏—â–∏ |
| **Meals** | `/api/v1/meals/{id}/` | GET/DELETE | –î–µ—Ç–∞–ª–∏/—É–¥–∞–ª–µ–Ω–∏–µ |
| **Meals** | `/api/v1/meals/{id}/items/` | POST | –î–æ–±–∞–≤–∏—Ç—å –±–ª—é–¥–æ |
| **Meals** | `/api/v1/meals/{id}/items/{itemId}/` | PATCH/DELETE | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å –±–ª—é–¥–æ |
| **AI** | `/api/v1/ai/recognize/` | POST | –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –µ–¥—ã |
| **AI** | `/api/v1/ai/task/{taskId}/` | GET | –°—Ç–∞—Ç—É—Å async-–∑–∞–¥–∞—á–∏ |
| **Billing** | `/api/v1/billing/me/` | GET | –õ–∏–º–∏—Ç—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
| **Billing** | `/api/v1/billing/subscription/` | GET | –î–µ—Ç–∞–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∏ |
| **Billing** | `/api/v1/billing/plans/` | GET | –°–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ–æ–≤ |
| **Billing** | `/api/v1/billing/create-payment/` | POST | –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ |

### 2.2. –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π Frontend ‚Üî Backend

#### AI Recognition Response

**Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (sync mode HTTP 200):**
```json
{
  "meal_id": 123,
  "recognized_items": [
    {
      "name": "–ì—Ä–µ—á–∫–∞ —Å –∫—É—Ä–∏—Ü–µ–π",
      "grams": 250,
      "calories": 380,
      "protein": 28.5,
      "fat": 8.2,
      "carbohydrates": 42.1
    }
  ],
  "total_calories": 380,
  "total_protein": 28.5,
  "total_fat": 8.2,
  "total_carbohydrates": 42.1,
  "photo_url": "/media/meals/..."
}
```

**Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (async mode HTTP 202):**
```json
{
  "meal_id": "uuid",
  "task_id": "celery-task-id",
  "status": "processing",
  "message": "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ"
}
```

**Task Status (SUCCESS):**
```json
{
  "task_id": "...",
  "state": "SUCCESS",
  "result": {
    "success": true,
    "meal_id": "...",
    "recognized_items": [...],
    "totals": {
      "calories": 380,
      "protein": 28.5,
      "fat": 8.2,
      "carbohydrates": 42.1
    }
  }
}
```

**–í–∞–∂–Ω–æ:** –í async-—Ä–µ–∂–∏–º–µ `totals` ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç –≤–Ω—É—Ç—Ä–∏ `result`, –∞ –≤ sync-—Ä–µ–∂–∏–º–µ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è `total_*`.

#### Meals Response

**Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```json
{
  "date": "2025-12-06",
  "daily_goal": { "calories": 2000, ... },
  "total_consumed": { "calories": 1500, ... },
  "progress": { "calories": 75, ... },
  "meals": [
    {
      "id": 1,
      "meal_type": "BREAKFAST",
      "date": "2025-12-06",
      "items": [...]  // <-- –ü–æ–ª–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "items"
    }
  ]
}
```

**Frontend –æ–∂–∏–¥–∞–µ—Ç:** `meal.items` (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ) –∏–ª–∏ `meal.food_items` (fallback)

### 2.3. –†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª Frontend | –°—Ç–∞—Ç—É—Å |
|---|----------|---------------|--------|
| 1 | –í async mode `totals` ‚Äî –æ–±—ä–µ–∫—Ç, –≤ sync ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è | FoodLogPage.tsx | **–ò–°–ü–†–ê–í–õ–ï–ù–û** –≤ pollTaskStatus() |
| 2 | MealDetailsPage –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `item.carbs` –≤–º–µ—Å—Ç–æ `item.carbohydrates` | MealDetailsPage.tsx | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–º–∞–ø–ø–∏–Ω–≥ –≤ api.ts) |
| 3 | `getMealAnalysis()` –º–∞–ø–ø–∏—Ç `item.carbohydrates` ‚Üí `item.carbs` | api.ts | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ |

---

## 3. UX-–ø–æ—Ç–æ–∫–∏

### 3.1. –ü–µ—Ä–≤—ã–π –∑–∞—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Telegram Bot    ‚îÇ
‚îÇ (Fit_Coach_bot) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ –û—Ç–∫—Ä—ã—Ç—å Mini App
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ App.tsx ‚Üí initTelegramWebApp()          ‚îÇ
‚îÇ ‚Ä¢ tg.ready(), tg.expand()               ‚îÇ
‚îÇ ‚Ä¢ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã Telegram              ‚îÇ
‚îÇ ‚Ä¢ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ initData, user –≤ –ø–∞–º—è—Ç—å    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ AuthContext.authenticate()               ‚îÇ
‚îÇ ‚Ä¢ POST /telegram/auth/                   ‚îÇ
‚îÇ ‚Ä¢ Headers: X-Telegram-Init-Data          ‚îÇ
‚îÇ ‚Ä¢ Backend —Å–æ–∑–¥–∞—ë—Ç User/Profile –µ—Å–ª–∏ –Ω–µ—Ç  ‚îÇ
‚îÇ ‚Ä¢ Response: {user, is_admin}             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ BillingContext.refresh()                 ‚îÇ
‚îÇ ‚Ä¢ GET /billing/subscription/             ‚îÇ
‚îÇ ‚Ä¢ GET /billing/me/                       ‚îÇ
‚îÇ ‚Ä¢ –ü–æ–ª—É—á–∞–µ–º –ª–∏–º–∏—Ç—ã, —Ç–∞—Ä–∏—Ñ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ClientDashboard                          ‚îÇ
‚îÇ ‚Ä¢ GET /goals/ ‚Äî —Ü–µ–ª–∏ –ö–ë–ñ–£               ‚îÇ
‚îÇ ‚Ä¢ GET /meals/?date=YYYY-MM-DD           ‚îÇ
‚îÇ ‚Ä¢ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3.2. –†–∞–±–æ—Ç–∞ —Å –¥–Ω–µ–≤–Ω–∏–∫–æ–º

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ClientDashboard                          ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ Calendar (–≤—ã–±–æ—Ä –¥–∞—Ç—ã)               ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                ‚îÇ onDateSelect           ‚îÇ
‚îÇ                ‚ñº                        ‚îÇ
‚îÇ ‚Ä¢ GET /meals/?date=YYYY-MM-DD          ‚îÇ
‚îÇ ‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏        ‚îÇ
‚îÇ ‚Ä¢ –ü–µ—Ä–µ—Å—á—ë—Ç total_consumed               ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ Meal Card (BREAKFAST, LUNCH, ...)   ‚îÇ ‚îÇ
‚îÇ ‚îÇ [–£–¥–∞–ª–∏—Ç—å] [–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí]             ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                ‚îÇ                        ‚îÇ
‚îÇ                ‚ñº                        ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ MealDetailsPage                     ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚Ä¢ –§–æ—Ç–æ –±–ª—é–¥–∞                        ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚Ä¢ –°–ø–∏—Å–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã—Ö –±–ª—é–¥          ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚Ä¢ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–º–º–æ–≤–∫–∏          ‚îÇ ‚îÇ
‚îÇ ‚îÇ ‚Ä¢ –£–¥–∞–ª–µ–Ω–∏–µ –±–ª—é–¥                     ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3.3. –§–æ—Ç–æ-–∞–Ω–∞–ª–∏–∑ –µ–¥—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ FoodLogPage                              ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ 1. –í—ã–±–æ—Ä —Ñ–æ—Ç–æ (–¥–æ 5 —à—Ç—É–∫)               ‚îÇ
‚îÇ    ‚Ä¢ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ (< 10MB)         ‚îÇ
‚îÇ    ‚Ä¢ Preview —Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º comment   ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ 2. –û—Ç–ø—Ä–∞–≤–∫–∞                             ‚îÇ
‚îÇ    ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞ (BillingContext)   ‚îÇ
‚îÇ    ‚Ä¢ POST /ai/recognize/                ‚îÇ
‚îÇ    ‚Ä¢ FormData: image, comment, meal_type‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ 3a. SYNC Mode (HTTP 200)                ‚îÇ
‚îÇ     ‚Ä¢ –°—Ä–∞–∑—É –ø–æ–ª—É—á–∞–µ–º recognized_items   ‚îÇ
‚îÇ     ‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º BatchResultsModal      ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ 3b. ASYNC Mode (HTTP 202)               ‚îÇ
‚îÇ     ‚Ä¢ –ü–æ–ª—É—á–∞–µ–º task_id                  ‚îÇ
‚îÇ     ‚Ä¢ –ù–∞—á–∏–Ω–∞–µ–º polling:                 ‚îÇ
‚îÇ       GET /ai/task/{task_id}/           ‚îÇ
‚îÇ       ‚Ä¢ Exponential backoff (2s‚Üí5s)     ‚îÇ
‚îÇ       ‚Ä¢ Timeout 60s                     ‚îÇ
‚îÇ     ‚Ä¢ –ü—Ä–∏ SUCCESS:                      ‚îÇ
‚îÇ       result.recognized_items           ‚îÇ
‚îÇ       result.totals                     ‚îÇ
‚îÇ     ‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º BatchResultsModal      ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ 4. –õ–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω                       ‚îÇ
‚îÇ    ‚Ä¢ –ú–æ–¥–∞–ª–∫–∞ "–õ–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω"           ‚îÇ
‚îÇ    ‚Ä¢ CTA: "–û—Ñ–æ—Ä–º–∏—Ç—å PRO"                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3.4. –ü–æ–¥–ø–∏—Å–∫–∞ PRO

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ SubscriptionPage                         ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ ‚Ä¢ GET /billing/plans/                   ‚îÇ
‚îÇ ‚Ä¢ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–æ–≤ (FREE, PRO)       ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ PlanCard (PRO_MONTHLY / PRO_YEARLY) ‚îÇ ‚îÇ
‚îÇ ‚îÇ [–û—Ñ–æ—Ä–º–∏—Ç—å]                          ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                ‚îÇ                        ‚îÇ
‚îÇ                ‚ñº                        ‚îÇ
‚îÇ POST /billing/create-payment/           ‚îÇ
‚îÇ ‚Ä¢ plan_code: "MONTHLY" / "YEARLY"       ‚îÇ
‚îÇ ‚Ä¢ Response: { confirmation_url }        ‚îÇ
‚îÇ                                         ‚îÇ
‚îÇ ‚Üí –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ YooKassa                  ‚îÇ
‚îÇ ‚Üí –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã: webhook ‚Üí backend       ‚îÇ
‚îÇ ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**FREE vs PRO –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- FREE: `daily_photo_limit: 3` (3 —Ñ–æ—Ç–æ/–¥–µ–Ω—å)
- PRO: `daily_photo_limit: null` (–±–µ–∑–ª–∏–º–∏—Ç)

**UI-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:**
- Footer –≤ FoodLogPage –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `used_today / daily_photo_limit`
- –ü—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ ‚Äî –∫—Ä–∞—Å–Ω—ã–π –±–µ–π–¥–∂ "–õ–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω"
- –ú–æ–¥–∞–ª–∫–∞ —Å CTA "–û—Ñ–æ—Ä–º–∏—Ç—å PRO"

---

## 4. –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 4.1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (P0)

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|----------|------|----------|
| 1 | **Async totals parsing** | FoodLogPage.tsx | –í async mode `totals` ‚Äî –æ–±—ä–µ–∫—Ç `{calories, protein, fat, carbohydrates}`, –∞ –Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è. **–ò–°–ü–†–ê–í–õ–ï–ù–û** –≤ pollTaskStatus(). |
| 2 | **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—Ç–º–µ–Ω—ã polling** | FoodLogPage.tsx | –ö–Ω–æ–ø–∫–∞ "–ü—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑" –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, abort controller –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. **OK** |

### 4.2. –í—ã—Å–æ–∫–∏–µ (P1)

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|----------|------|----------|
| 3 | **Desktop camera** | FoodLogPage.tsx | –ù–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ –∫–∞–º–µ—Ä—ã, —Ö–æ—Ç—è –∫–∞–º–µ—Ä–∞ –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–∫—Ä—ã—Ç—å –∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å warning. |
| 4 | **selectedDate –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è** | ClientDashboard.tsx, FoodLogPage.tsx | –ü—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ `/log` –¥–∞—Ç–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `location.state`, –Ω–æ –ø—Ä–∏ deep link –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback –Ω–∞ `new Date()`. |
| 5 | **401/403 –æ–±—Ä–∞–±–æ—Ç–∫–∞** | api.ts | `UnauthorizedError` –∏ `ForbiddenError` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, –Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `uploadAvatar()`. –ù—É–∂–Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞. |

### 4.3. –°—Ä–µ–¥–Ω–∏–µ (P2)

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|----------|------|----------|
| 6 | **Console.log —Å sensitive data** | api.ts | `log()` –≤—ã–≤–æ–¥–∏—Ç debug-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –í production —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ (–±–µ–∑ —Ç–æ–∫–µ–Ω–æ–≤), –Ω–æ –ª—É—á—à–µ –¥–æ–±–∞–≤–∏—Ç—å ENV-—Ñ–ª–∞–≥. |
| 7 | **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≥—Ä–∞–º–º–æ–≤** | MealDetailsPage.tsx | –ï—Å—Ç—å –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (1-10000), –Ω–æ –Ω–µ—Ç on-blur –≤–∞–ª–∏–¥–∞—Ü–∏–∏. |
| 8 | **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫** | FoodLogPage.tsx | –û—à–∏–±–∫–∏ —á–∞—Å—Ç–∏—á–Ω–æ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º (`Network error`). |
| 9 | **TypeScript `any`** | api.ts, pages/* | –û–∫–æ–ª–æ 45 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π `any`. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è. |
| 10 | **–ë–æ–ª—å—à–æ–π api.ts** | api.ts | 51KB, ~1400 —Å—Ç—Ä–æ–∫. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –º–æ–¥—É–ª–∏. |

### 4.4. –ù–∏–∑–∫–∏–µ (P3)

| # | –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|----------|------|----------|
| 11 | **Deprecated —Ñ—É–Ω–∫—Ü–∏–∏** | telegram.ts | `getTelegramUser()`, `getTelegramInitData()` –ø–æ–º–µ—á–µ–Ω—ã deprecated, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è. |
| 12 | **–ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥** | components/* | `AIRecommendations.tsx`, `TestPrompt.tsx` ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è. |
| 13 | **Magic strings** | pages/* | `'BREAKFAST'`, `'FREE'`, `'PRO'` ‚Äî –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã. |

---

## 5. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É

### 5.1. Phase 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∏–∫—Å—ã (1-2 –¥–Ω—è)

1. **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ 401/403:**
   ```typescript
   // api.ts
   const handleResponse = async (response: Response) => {
     if (response.status === 401) {
       // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª–∫—É "–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞"
       window.dispatchEvent(new CustomEvent('auth:expired'));
       throw new UnauthorizedError();
     }
     if (response.status === 403) {
       throw new ForbiddenError();
     }
     return response;
   };
   ```

2. **Desktop camera detection:**
   ```typescript
   // useTelegramWebApp.ts
   const isDesktop = webApp?.platform === 'tdesktop' || 
                     webApp?.platform === 'macos' ||
                     webApp?.platform === 'web';
   ```

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ AI —Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π:**
   ```typescript
   const ERROR_MESSAGES: Record<string, string> = {
     'DAILY_LIMIT_REACHED': '–õ–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω',
     'AI_SERVICE_TIMEOUT': '–°–µ—Ä–≤–∏—Å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.',
     'INVALID_IMAGE': '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ',
     'AI_EMPTY_RESULT': '–ï–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–µ —Ñ–æ—Ç–æ.',
   };
   ```

### 5.2. Phase 2: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (3-5 –¥–Ω–µ–π)

1. **–†–∞–∑–±–∏—Ç—å api.ts –Ω–∞ –º–æ–¥—É–ª–∏:**
   ```
   src/services/api/
   ‚îú‚îÄ‚îÄ client.ts          # Base fetch client
   ‚îú‚îÄ‚îÄ auth.ts            # Telegram auth
   ‚îú‚îÄ‚îÄ nutrition.ts       # Meals, goals
   ‚îú‚îÄ‚îÄ ai.ts              # AI recognition
   ‚îú‚îÄ‚îÄ billing.ts         # Subscriptions, payments
   ‚îî‚îÄ‚îÄ index.ts           # Re-export
   ```

2. **–¢–∏–ø–∏–∑–∞—Ü–∏—è:**
   - –°–æ–∑–¥–∞—Ç—å `src/types/api.ts` —Å DTO –¥–ª—è –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤
   - –£–±—Ä–∞—Ç—å –≤—Å–µ `any`
   - –í–∫–ª—é—á–∏—Ç—å `strict: true` –≤ tsconfig

3. **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:**
   ```typescript
   // src/constants/index.ts
   export const MEAL_TYPES = {
     BREAKFAST: 'BREAKFAST',
     LUNCH: 'LUNCH',
     DINNER: 'DINNER',
     SNACK: 'SNACK',
   } as const;

   export const PLAN_CODES = {
     FREE: 'FREE',
     MONTHLY: 'MONTHLY',
     YEARLY: 'YEARLY',
   } as const;
   ```

### 5.3. Phase 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (2-3 –¥–Ω—è)

1. **React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
   ```typescript
   const { data: meals } = useQuery(
     ['meals', date],
     () => api.getMeals(date),
     { staleTime: 5 * 60 * 1000 }
   );
   ```

2. **–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
   ```typescript
   const MealCard = React.memo(({ meal, onDelete }) => {...});
   ```

3. **Code splitting:**
   ```typescript
   const SubscriptionPage = lazy(() => import('./pages/SubscriptionPage'));
   ```

---

## 6. –ì–∞–π–¥ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞

### 6.1. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
cd frontend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# Dev-—Ä–µ–∂–∏–º (—Å hot reload)
npm run dev

# –°–±–æ—Ä–∫–∞ production
npm run build

# Preview production build
npm run preview
```

**ENV-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`.env.development`):**
```env
VITE_API_URL=http://localhost:8000/api/v1
```

### 6.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ–∏—á

**–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:**
1. –°–æ–∑–¥–∞—Ç—å `src/pages/NewFeaturePage.tsx`
2. –î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç –≤ `App.tsx`
3. –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç ‚Äî –¥–æ–±–∞–≤–∏—Ç—å Context –≤ `src/contexts/`

**–ù–æ–≤—ã–π API —ç–Ω–¥–ø–æ–∏–Ω—Ç:**
1. –î–æ–±–∞–≤–∏—Ç—å URL –≤ `URLS` –æ–±—ä–µ–∫—Ç –≤ `api.ts`
2. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤ `api` –æ–±—ä–µ–∫—Ç
3. –î–æ–±–∞–≤–∏—Ç—å TypeScript —Ç–∏–ø—ã –≤ `src/types/`

**–ù–æ–≤—ã–π UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
1. –°–æ–∑–¥–∞—Ç—å –≤ `src/components/NewComponent.tsx`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TailwindCSS –¥–ª—è —Å—Ç–∏–ª–µ–π
3. Lucide React –¥–ª—è –∏–∫–æ–Ω–æ–∫

### 6.3. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –ó–∞–¥–∞—á–∞ | –§–∞–π–ª |
|--------|------|
| –õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ | `src/contexts/AuthContext.tsx` |
| –õ–æ–≥–∏–∫–∞ –±–∏–ª–ª–∏–Ω–≥–∞ | `src/contexts/BillingContext.tsx` |
| API-–∑–∞–ø—Ä–æ—Å—ã | `src/services/api.ts` |
| Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | `src/lib/telegram.ts` |
| –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–¥–Ω–µ–≤–Ω–∏–∫) | `src/pages/ClientDashboard.tsx` |
| –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ | `src/pages/FoodLogPage.tsx` |
| –î–µ—Ç–∞–ª–∏ –±–ª—é–¥–∞ | `src/pages/MealDetailsPage.tsx` |
| –ü–æ–¥–ø–∏—Å–∫–∏ | `src/pages/SubscriptionPage.tsx` |
| –†–æ—É—Ç–∏–Ω–≥ | `src/App.tsx` |

### 6.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

1. **–ü–µ—Ä–≤—ã–π –∑–∞—Ö–æ–¥:**
   - –û—Ç–∫—Ä—ã—Ç—å —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞
   - –î–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è ClientDashboard
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

2. **–§–æ—Ç–æ-–∞–Ω–∞–ª–∏–∑:**
   - –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–µ–º –ø–∏—â–∏"
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ –µ–¥—ã
   - –î–æ–∂–¥–∞—Ç—å—Å—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –º–æ–¥–∞–ª–∫–µ

3. **–î–Ω–µ–≤–Ω–∏–∫:**
   - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –¥–∞—Ç—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏
   - –û—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏, —É–¥–∞–ª–∏—Ç—å –±–ª—é–¥–æ

4. **–õ–∏–º–∏—Ç—ã FREE:**
   - –ù–∞ FREE —Ç–∞—Ä–∏—Ñ–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å 3 —Ñ–æ—Ç–æ
   - –ü—Ä–∏ 4-–º —Ñ–æ—Ç–æ –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –º–æ–¥–∞–ª–∫–∞ "–õ–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω"

### 6.5. –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

**–í –±—Ä–∞—É–∑–µ—Ä–µ (F12 ‚Üí Console):**
```
üöÄ EATFIT_FRONT_VERSION = 42
[API] Authenticating with Telegram initData
[Telegram] Initialized: {userId: 123456, username: "user"}
[BillingProvider] Billing status: plan=FREE, limit=3, used=0
```

**API debug info:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
api.getDebugInfo()
// ‚Üí {apiBase, initData, user, logs}
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–§—Ä–æ–Ω—Ç–µ–Ω–¥ EatFit24 –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–±–æ—á–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é:
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram ‚úÖ
- –î–Ω–µ–≤–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è ‚úÖ
- AI-—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –µ–¥—ã (sync + async) ‚úÖ
- –ü–æ–¥–ø–∏—Å–∫–∏ –∏ –ª–∏–º–∏—Ç—ã ‚úÖ

**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
1. –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. –¢–∏–ø–∏–∑–∞—Ü–∏—è (—É–±—Ä–∞—Ç—å `any`)
3. –†–∞–∑–±–∏–µ–Ω–∏–µ api.ts –Ω–∞ –º–æ–¥—É–ª–∏
4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫:**
Phase 1 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∏–∫—Å—ã) ‚Üí Phase 2 (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥) ‚Üí Phase 3 (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è) ‚Üí –¢–µ—Å—Ç—ã

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∞—É–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞.*
