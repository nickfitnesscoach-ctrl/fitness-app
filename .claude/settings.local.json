{
  "permissions": {
    "allow": [
      "Bash(git commit:*)",
      "Bash(git rm:*)",
      "Bash(test:*)",
      "Bash(git push:*)",
      "Bash(gh run list:*)",
      "Bash(yamllint backend.yml)",
      "Bash(npm run type-check:*)",
      "Bash(pip install:*)",
      "Bash(ruff check:*)",
      "Bash(git add:*)",
      "Bash(python -m py_compile:*)",
      "Bash(npx tsc:*)",
      "Bash(npm run build:*)",
      "Bash(git pull:*)",
      "Bash(git stash:*)",
      "Bash(python manage.py show_urls:*)",
      "Bash(cat:*)",
      "Bash(python manage.py test:*)",
      "Bash(echo $POSTGRES_PASSWORD)",
      "Bash(chmod:*)",
      "Bash(docker-compose ps:*)",
      "Bash(python manage.py shell:*)",
      "Bash(curl:*)",
      "Bash(python test_goals_auth.py:*)",
      "Bash(echo:*)",
      "Bash(systemctl list-units:*)",
      "Bash(ssh root@85.198.81.133 \"cd /opt/foodmind && pwd\")",
      "Bash(ssh root@85.198.81.133 \"sleep 5 && ps aux | grep gunicorn | grep -v grep\")",
      "Bash(ssh root@85.198.81.133 \"cd /opt/foodmind/backend && tail -50 /var/log/gunicorn.log 2>/dev/null || journalctl -u gunicorn -n 50 2>/dev/null || find /opt/foodmind -name ''*.log'' -exec tail -20 {} \\; 2>/dev/null | head -100\")",
      "Bash(ssh root@85.198.81.133 \"cd /opt/foodmind && find . -name ''*.log'' -type f 2>/dev/null | head -10\")",
      "Bash(ssh root@85.198.81.133 \"tail -100 /opt/foodmind/backend/logs/gunicorn_error.log | grep -A 20 ''Traceback\\|Error\\|Exception'' | tail -50\")",
      "Bash(ssh root@85.198.81.133 \"tail -100 /opt/foodmind/backend/logs/django.log | tail -50\")",
      "Bash(ssh root@85.198.81.133 \"ps aux | grep gunicorn | grep -v grep\")",
      "Bash(ssh root@85.198.81.133 \"tail -50 /opt/foodmind/backend/logs/django.log | grep -A 15 ''Traceback'' | tail -30\")",
      "Bash(ssh root@85.198.81.133 \"tail -200 /opt/foodmind/backend/logs/django.log | tail -50\")",
      "Bash(ssh root@85.198.81.133 \"grep -A 5 ''create_user'' /opt/foodmind/backend/apps/telegram/authentication.py | head -15\")",
      "Bash(ssh root@85.198.81.133 \"tail -30 /opt/foodmind/backend/logs/django.log | grep -E ''TelegramHeaderAuth|DailyGoal''\")",
      "Bash(ssh root@85.198.81.133 \"psql -U foodmind -l\")",
      "Bash(ssh root@85.198.81.133 \"su - postgres -c ''psql -l''\")",
      "Bash(ssh root@85.198.81.133 \"cd /opt/foodmind && docker-compose ps\")",
      "Bash(ssh root@85.198.81.133 \"docker ps\")",
      "Bash(ssh root@85.198.81.133 \"docker exec fm-db psql -U foodmind -l\")",
      "Bash(ssh root@85.198.81.133 \"docker exec fm-db psql -U foodmind -d foodmind -c \"\"\\dt\"\" | head -50\")",
      "Bash(ssh root@85.198.81.133 \"docker exec fm-db psql -U foodmind -d foodmind -c \"\"\nSELECT \n    schemaname, \n    tablename, \n    n_live_tup as row_count\nFROM pg_stat_user_tables\nORDER BY n_live_tup DESC;\n\"\"\")",
      "Bash(ssh:*)",
      "Bash(scp:*)",
      "Bash(python manage.py makemigrations:*)",
      "Bash(python manage.py check:*)",
      "Bash(dir \"d:\\NICOLAS\\1_PROJECTS\\_IT_Projects\\Fitness-app\")",
      "Bash(dir:*)",
      "Bash(findstr:*)",
      "Bash(node test-mifflin.js:*)",
      "Bash(node test-new-kbju.js:*)",
      "Bash(python manage.py migrate:*)",
      "Bash(python:*)",
      "Bash(mode=block\" always;\n        \n        # DEV MODE: Отключаем кеширование HTML\n        add_header Cache-Control \"no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0\" always;\n        add_header Pragma \"no-cache\" always;\n        expires -1;\n    }\n\n    # DEV MODE: Минимальное кэширование статических файлов (5 минут вместо 1 года)\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {\n        expires 5m;\n        add_header Cache-Control \"public, max-age=300\";\n    }\n\n    # Логирование\n    access_log /var/log/nginx/access.log;\n    error_log /var/log/nginx/error.log;\n}\nEOF\")",
      "Bash(npm run preview:*)",
      "Bash(docker build:*)",
      "Bash(powershell.exe -Command \"docker build -t eatfit24-frontend-test ./frontend\")",
      "Bash(powershell.exe -Command \"docker run -d -p 8080:80 --name eatfit24-test eatfit24-frontend-test\")",
      "Bash(powershell.exe -Command \"docker ps -a | Select-String eatfit24-test\")",
      "Bash(powershell.exe -Command \"docker logs eatfit24-test\")",
      "Bash(powershell.exe -Command \"docker rm eatfit24-test\")",
      "Bash(powershell.exe -Command \"docker run -d -p 8080:80 --name eatfit24-test -v ''$PWD/frontend/nginx.local.conf:/etc/nginx/conf.d/default.conf'' eatfit24-frontend-test\")",
      "Bash(powershell.exe -Command \"docker ps | Select-String eatfit24-test\")",
      "Bash(powershell.exe -Command \"docker restart eatfit24-test\")",
      "Bash(powershell.exe -Command \"docker exec eatfit24-test ls -la /usr/share/nginx/html\")",
      "Bash(powershell.exe -Command \"docker exec eatfit24-test ls -la /usr/share/nginx/html/app\")",
      "Bash(powershell.exe -Command \"docker exec eatfit24-test cat /usr/share/nginx/html/app/index.html\")",
      "Bash(powershell.exe -Command \"docker exec eatfit24-test cat /etc/nginx/conf.d/default.conf\")",
      "Bash(powershell.exe -Command \"curl -I http://localhost:8080/app\")",
      "Bash(powershell.exe -Command \"Invoke-WebRequest -Uri ''http://localhost:8080/app'' -Method Head | Select-Object StatusCode,Headers\")",
      "Bash(powershell.exe -Command \"docker exec eatfit24-test tail -20 /var/log/nginx/error.log\")",
      "Bash(powershell.exe -Command \"docker rm -f eatfit24-test\")",
      "Bash(powershell.exe -Command \"docker logs eatfit24-test | tail -20\")",
      "Bash(python3:*)",
      "Bash(powershell.exe -Command \"scp -r ''d:\\NICOLAS\\1_PROJECTS\\_IT_Projects\\Fitness-app\\frontend\\dist\\*'' root@85.198.81.133:/opt/foodmind/frontend/dist/\")",
      "Bash(mkdir:*)",
      "Bash(powershell.exe -Command \"scp -r frontend/dist/* root@85.198.81.133:/opt/foodmind/frontend/dist/\")"
    ],
    "deny": [],
    "ask": []
  }
}
